new-term width=80 height=2
----

# 世界 is Chinese for "world". The width of each character is 2 which requires
# special handling in the rendering code.
input
hello 世界
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello 世界 ̲                                                                   │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Left>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello 世界̲                                                                    │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Left>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello 世̲界                                                                    │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Meta-f>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello 世界 ̲                                                                   │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Meta-b>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello 世̲界                                                                    │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Control-a>hello hello hello hello hello hello hello hello hello hello hello h
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello hello hello hello hello hello hello hello hello hello hello hh̲ello 世界 │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

# Double-width characters must fully fit within the terminal width, so they get
# wrapped early.
input
<Space>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello hello hello hello hello hello hello hello hello hello hello h h̲ello 世  │
│界                                                                              │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Space>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello hello hello hello hello hello hello hello hello hello hello h  h̲ello 世 │
│界                                                                              │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Space>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│> hello hello hello hello hello hello hello hello hello hello hello h   h̲ello   │
│世界                                                                            │
└────────────────────────────────────────────────────────────────────────────────┘

input
<Control-a><Meta-f><Control-w><Control-c>
----
┌────────────────────────────────────────────────────────────────────────────────┐
│>  hello hello hello hello hello hello hello hello hello hello h   hello 世界   │
│>  ̲                                                                             │
└────────────────────────────────────────────────────────────────────────────────┘
